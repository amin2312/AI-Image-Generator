import{r as F,E as de,o as h,c as v,a as l,t as m,b as pe,d as L,e as k,f as I,F as z,g as i,w as c,h as b,i as D,j as A,k as te,l as ne,m as me,n as ce,p as x,q as ge,s as R,u as J,v as le,x as H,y as K,z as fe,A as _e,B as he,C as be,D as M,G as j,H as ye,I as ve,J as we,K as Se,L as Le,M as Ve,R as Ie,N as Ee}from"./vendor-b3440d5e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const G=class S{static Init(e,r){S._support=e,S._strings=r,S._strings.createIndexAt(0),S._strings.createIndexAt(1)}static get systemValue(){return S.getLangFieldBy(navigator.language)}static get customValue(){return S._customValue}static set customValue(e){var r=null,o=null,n=S._support.selectAll().toObjs(),s;for(let p=0,u=n.length;p<u;p++)if(s=n[p],s.langField==e){r=e,o=s.name;break}r==e?(S._customValue=e,S.customLabel=o):S._customValue=S.systemValue,e=="ar"?S.alignment="right":S.alignment="left"}static getLangFieldBy(e){var r=S._support.selectAll().toObjs(),o;for(let s=0,p=r.length;s<p;s++)if(o=r[s],o.iso_639_3166.indexOf(e)!=-1)return o.langField;var n=e.split("-")[0];for(let s=0,p=r.length;s<p;s++)if(o=r[s],o.iso_639_3166.indexOf(n)!=-1)return o.langField;return r[0].langField}static id(e,r=0){var o=S._strings.selectWhenE(1,e,r).toFirstObj();if(o==null)return console.log("error language id:"+e),null;var n=o[S.customValue];return(n==null||n==""||n=="&")&&(n=o.en),n}};G.n=new Proxy({},{get:function(t,e){return G.id(e,1)}});let d=G;const se="settings",oe="jobs",Oe=!1,B={concurrentRequests:5,api:{create:"/gen-basic/api/create",retrieve:"/gen-basic/api/retrieve"}};class Pe{constructor(){this.API_HOST="",this.MODELS=["dall-e","stable-diffusion"],this.loading=null,this.url=null,this.uid=0,this.isDebug=Oe}}var y=new Pe,_=F({settings:{runTimes:0},jobs:[],isTabletView:!1,isPhoneView:!1,isTouchDevice:!1});function W(t,e="Loading"){y.loading&&(y.loading.close(),y.loading=null),t&&(y.loading=de.service({lock:!0,text:e,background:"rgba(0, 0, 0, 0.75)"}))}function ke(){try{localStorage.setItem(se,JSON.stringify(_.settings))}catch(e){var t=e.toString();t.indexOf("QuotaExceededError")!=-1?alert("Warning: Browser local storage is full, no more data can be saved"):alert(e)}}function De(){var t=null;try{t=JSON.parse(localStorage.getItem(se))}catch(e){}return F(t||{})}function N(){try{localStorage.setItem(oe,JSON.stringify(_.jobs))}catch(e){var t=e.toString();t.indexOf("QuotaExceededError")!=-1?alert("Warning: Browser local storage is full, no more images can be saved"):alert(e)}}function Ce(){var t=null;try{t=JSON.parse(localStorage.getItem(oe))}catch(e){}return F(t||[])}const ie=class ${static checkP3(e,r){if(e!=200)return $.lastError=e+","+r,new Error(`[ERROR] HTTP:${$.lastError}`);var o=r,n=o.indexOf(",");if(n==-1)return $.lastError=o,new Error(`[ERROR] CONTENT:${$.lastError}`);var s=null,p=null,u=null;s=o.substring(0,n);var g=o.indexOf(",",n+1);if(g>0)switch(p=o.substring(n+1,g),u=o.substring(g+1),s=parseInt(s),p=parseInt(p),p){case 10:u=parseInt(u);break;case 11:u=!!parseInt(u);break;case 20:u=parseFloat(u);break;case 32:u=JSON.parse(u);break}return{part1:s,part2:p,part3:u}}static getStateItems(e,r,o=-1,n=null){var s=[];for(let p of e)if(p.state==r&&(s.push(n?p[n]:p),o--,o==0))break;return s}static formatInputInfo(e){var r="";return e.model==y.MODELS[0]?r=`${d.n.prompt}: ${e.prompt}
${d.n.model}: ${e.model}
${d.n.version}: ${e.version}
${d.n.size}: ${e.param.size}
${d.n.quality}: ${e.param.quality} 
${d.n.style}: ${e.param.style}
${d.n.supplier}: ${e.supplier}
`:e.model==y.MODELS[1]&&(r=`${d.n.prompt}: ${e.prompt}
${d.n.negativePrompt}: ${e.negativePrompt}
${d.n.model}: ${e.model}
${d.n.version}: ${e.version}
${d.n.width}: ${e.param.width}
${d.n.height}: ${e.param.height} 
CFG Scale: ${e.param.cfg_scale}
${d.n.steps}: ${e.param.steps}
CLIP Guidance: ${e.param.clip_guidance_preset}
${d.n.sampler}: ${e.param.sampler}
${d.n.style}: ${e.param.style_preset}
${d.n.seed}: ${e.param.seed}
${d.n.supplier}: ${e.supplier}
`),r}static fillInto(e,r,o=!1,n=!1){if(!(e==null||r==null))for(let s in e){let p=r[s];o||p==null?r[s]=e[s]:n&&(r[s]+=e[s])}}static genUID(e=8,r=""){return r+$.padStart(Math.random().toString(36).substring(2,2+e),"0",e)+"-"+Date.now().toString(36)}static padStart(e,r,o){const n=o-e.length;return n>0&&(e=Array(n).fill(r).join("")+e),e}static copyTextToClipboard(e,{target:r=document.body}={}){const o=document.createElement("textarea"),n=document.activeElement;o.value=e,o.setAttribute("readonly",""),o.style.contain="strict",o.style.position="absolute",o.style.left="-9999px",o.style.fontSize="12pt";const s=document.getSelection(),p=s.rangeCount>0&&s.getRangeAt(0);r.append(o),o.select(),o.selectionStart=0,o.selectionEnd=e.length;let u=!1;try{u=document.execCommand("copy")}catch(g){}return o.remove(),p&&(s.removeAllRanges(),s.addRange(p)),n&&n.focus(),u}};ie.lastError=null;let E=ie;const C=(t,e)=>{const r=t.__vccOpts||t;for(const[o,n]of e)r[o]=n;return r},$e={name:"FrameHead"},ze={id:"my-frame-head"},Te={href:"https://www.ai-img-gen.com/"};function Ae(t,e,r,o,n,s){return h(),v("div",ze,[l("div",null,[l("a",Te,m(t.Lang.n.logo),1)])])}const xe=C($e,[["render",Ae],["__scopeId","data-v-c5286088"]]);const Re={name:"FrameBody"},Je={id:"my-frame-body"};function Me(t,e,r,o,n,s){return h(),v("div",Je,[pe(t.$slots,"default",{},void 0,!0)])}const je=C(Re,[["render",Me],["__scopeId","data-v-173c018b"]]),Ne={name:"LPart",data(){return{curJob:null}},computed:{curOutputInfo(){return JSON.stringify(this.curJob.O,null,2)},curInputInfo(){return E.formatInputInfo(this.curJob.I)},curImageInfo(){var t=`uuid: ${this.curJob.uuid}
${d.n.date}: ${new Date(this.curJob.image.created*1e3).toLocaleString()}
${d.n.elapsed}: ${this.curJob.image.elapsed}s
`;return t}},methods:{onFillCurInputInfo(){this.$parent.fillInputBy(this.curJob.I)},onCopyCurPrompt(){E.copyTextToClipboard(this.curJob.I.prompt),L.success(d.id(125))},onCopyCurOutputInfo(){E.copyTextToClipboard(JSON.stringify(this.curJob.O,null,2)),L.success(d.id(125))},setCurJob(t,e=!1){this.curJob=t,e&&setTimeout(()=>{this.$refs.isb.setScrollLeft(2147483647)},1)},getImgSrc(t){var e="";return t.type=="base64"?"data:image/png;base64,"+t.data:(t.type=="url"&&(e=t.data),e)},onDelCurJob(){k.confirm(d.id(124),null).then(()=>{L.success(d.id(125));let t=_.jobs.indexOf(this.curJob);_.jobs.splice(t,1),this.curJob=_.jobs[t-1]||_.jobs[0]||null,N()}).catch(()=>{})},openCurImage(){window.open(this.getImgSrc(this.curJob.image.samples[0]))}}};const U=t=>(R("data-v-c84ea50c"),t=t(),J(),t),Ue={id:"gallery"},Be={class:"image-one"},Ge={class:"op_buttons"},Fe={class:"my_button_white"},He={style:{"overflow-x":"hidden"}},Ke={style:{margin:"0px 0px 8px 0px"}},qe={class:"my_button_white"},We={style:{"overflow-x":"hidden"}},Qe={style:{margin:"0px 0px 8px 0px"}},Xe={class:"my_button_white"},Ye={key:1},Ze={key:2},et={class:"cur-image"},tt=U(()=>l("div",{style:{color:"white",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},"Loading..",-1)),nt=U(()=>l("div",{style:{color:"white",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},"Load Failed",-1)),lt={key:0,class:"image-prompt"},st={class:"image-list"},ot={id:"ImageSet"},it=["onClick"],rt=U(()=>l("div",{style:{color:"white",width:"120px",height:"120px",display:"flex","align-items":"center","justify-content":"center"}},"Loading",-1)),at=U(()=>l("div",{style:{color:"white",width:"120px",height:"120px",display:"flex","align-items":"center","justify-content":"center"}},"Load Failed",-1));function ut(t,e,r,o,n,s){const p=I("icon-info"),u=I("icon-copy"),g=te,w=ne,f=I("icon-fill"),V=I("icon-delete"),O=me,T=ce;return h(),v("div",Ue,[l("div",Be,[l("div",Ge,[n.curJob?(h(),v(z,{key:0},[i(w,{placement:"bottom-start",title:t.Lang.n.outputInfo,width:348,"popper-class":"gallery-info-popover",trigger:"hover",content:s.curOutputInfo},{reference:c(()=>[l("button",Fe,[i(p,{size:"16",style:{"margin-right":"4px"}}),b(m(t.Lang.n.outputInfo1),1)])]),default:c(()=>[l("div",He,[l("pre",Ke,m(s.curOutputInfo),1),i(g,{type:"primary",plain:"",onClick:s.onCopyCurOutputInfo},{default:c(()=>[i(u,{size:"16"})]),_:1},8,["onClick"])])]),_:1},8,["title","content"]),i(w,{placement:"bottom-start",title:t.Lang.n.inputInfo,width:348,"popper-class":"gallery-info-popover",trigger:"hover"},{reference:c(()=>[l("button",qe,[i(p,{size:"16",style:{"margin-right":"4px"}}),b(m(t.Lang.n.inputInfo1),1)])]),default:c(()=>[l("div",We,[l("pre",Qe,m(s.curInputInfo),1),i(g,{type:"primary",plain:"",onClick:s.onFillCurInputInfo},{default:c(()=>[i(f,{size:"16"})]),_:1},8,["onClick"])])]),_:1},8,["title"]),i(w,{placement:"bottom-start",title:t.Lang.n.imgInfo,width:348,"popper-class":"gallery-info-popover",trigger:"hover",content:s.curImageInfo},{reference:c(()=>[l("button",Xe,[i(p,{size:"16",style:{"margin-right":"4px"}}),b(m(t.Lang.n.imgInfo1),1)])]),_:1},8,["title","content"]),l("button",{class:"my_button_white",onClick:e[0]||(e[0]=(...a)=>s.onDelCurJob&&s.onDelCurJob(...a))},[i(V,{size:"16",style:{"margin-right":"4px"}}),b(m(t.Lang.n.delete),1)])],64)):(h(),v("div",Ye)),t.GB.isPhoneView?(h(),v("div",Ze,[i(g,{type:"danger",plain:"",style:{"margin-left":"4px"},size:"small",onClick:e[1]||(e[1]=a=>t.$parent.isAdvanceView=!0)},{default:c(()=>[b(m(t.Lang.n.generate),1)]),_:1})])):D("",!0)]),l("div",et,[n.curJob?(h(),A(O,{key:0,src:s.getImgSrc(n.curJob.image.samples[0]),fit:"contain",onClick:s.openCurImage},{placeholder:c(()=>[tt]),error:c(()=>[nt]),_:1},8,["src","onClick"])):D("",!0)]),n.curJob?(h(),v("div",lt,[i(g,{type:"primary",style:{"margin-right":"4px"},size:"small",text:"",onClick:s.onCopyCurPrompt},{default:c(()=>[i(u,{size:"16"})]),_:1},8,["onClick"]),b(m(n.curJob.I.prompt),1)])):D("",!0)]),l("div",st,[i(T,{always:"",id:"ImageScrollBar",ref:"isb"},{default:c(()=>[l("div",ot,[(h(!0),v(z,null,x(t.Kit.getStateItems(t.GB.jobs,1),a=>(h(),v("div",{key:a.uuid},[l("div",{onClick:P=>s.setCurJob(a),class:ge({"is-selected-item":n.curJob==a})},[i(O,{src:s.getImgSrc(a.image.samples[0]),lazy:"","scroll-container":"#ImageScrollBar .el-scrollbar__wrap",fit:"contain"},{placeholder:c(()=>[rt]),error:c(()=>[at]),_:2},1032,["src"])],10,it)]))),128))])]),_:1},512)])])}const dt=C(Ne,[["render",ut],["__scopeId","data-v-c84ea50c"]]),Q={template:1,isExample:!1,model:y.MODELS[0],prompt:"",version:3,param:{size:"1024x1024",quality:"standard",style:"vivid"},supplier:"openai",api_key:"",api_version:"",endpoint:""},pt={name:"RPartDallE",props:{isDisabledSubmit:Boolean},data(){return{input:JSON.parse(JSON.stringify(Q))}},mounted(){},methods:{onHelpApiKey(){k.alert(d.id(159),null)},onClear(){this.input=JSON.parse(JSON.stringify(Q))},onSubmit(){this.submit()},submit(){if(!this.input.prompt){L.warning(d.id(121));return}if(this.input.supplier=="azure"&&!this.input.endpoint){L.warning(d.id(129)),this.$refs.endpoint.focus();return}this.$parent.submitRequest(this.input)&&(this.input.prompt="")}}};const q=t=>(R("data-v-dd332897"),t=t(),J(),t),mt={id:"R-dall-e"},ct={class:"tab"},gt=q(()=>l("br",null,null,-1)),ft=q(()=>l("br",null,null,-1)),_t=q(()=>l("br",null,null,-1)),ht={style:{display:"flex"}},bt={key:0},yt={key:1},vt={class:"op_buttons"},wt=["disabled"],St=["disabled"];function Lt(t,e,r,o,n,s){const p=le,u=K,g=H,w=I("icon-help");return h(),v("div",mt,[i(p,{modelValue:n.input.prompt,"onUpdate:modelValue":e[0]||(e[0]=f=>n.input.prompt=f),rows:6,type:"textarea",maxlength:4e3,"show-word-limit":"",placeholder:t.Lang.id(121)},null,8,["modelValue","placeholder"]),l("table",ct,[l("tr",null,[l("td",null,m(t.Lang.n.model),1),l("td",null,m(t.G.MODELS[0].toUpperCase())+" "+m(n.input.version),1)]),l("tr",null,[l("td",null,m(t.Lang.n.version),1),l("td",null,[i(g,{modelValue:n.input.version,"onUpdate:modelValue":e[1]||(e[1]=f=>n.input.version=f),fill:"green"},{default:c(()=>[i(u,{size:"small",label:3},{default:c(()=>[b("3")]),_:1})]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.size),1),l("td",null,[i(g,{modelValue:n.input.param.size,"onUpdate:modelValue":e[2]||(e[2]=f=>n.input.param.size=f),class:"param_size",fill:"green"},{default:c(()=>[i(u,{label:"1024x1024",size:"small"},{default:c(()=>[b("1024x1024"),gt,b(m(t.Lang.id(107)),1)]),_:1}),i(u,{label:"1792x1024",size:"small"},{default:c(()=>[b("1792x1024"),ft,b(m(t.Lang.id(108)),1)]),_:1}),i(u,{label:"1024x1792",size:"small"},{default:c(()=>[b("1024x1792"),_t,b(m(t.Lang.id(109)),1)]),_:1})]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.quality),1),l("td",null,[i(g,{modelValue:n.input.param.quality,"onUpdate:modelValue":e[3]||(e[3]=f=>n.input.param.quality=f),fill:"green"},{default:c(()=>[i(u,{label:"standard",size:t.GB.isPhoneView?"small":"default"},{default:c(()=>[b(m(t.Lang.id(111)),1)]),_:1},8,["size"]),i(u,{label:"hd",size:t.GB.isPhoneView?"small":"default"},{default:c(()=>[b(m(t.Lang.id(112)),1)]),_:1},8,["size"])]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.style),1),l("td",null,[i(g,{modelValue:n.input.param.style,"onUpdate:modelValue":e[4]||(e[4]=f=>n.input.param.style=f),fill:"green"},{default:c(()=>[i(u,{label:"vivid",size:t.GB.isPhoneView?"small":"default"},{default:c(()=>[b(m(t.Lang.id(114)),1)]),_:1},8,["size"]),i(u,{label:"natural",size:t.GB.isPhoneView?"small":"default"},{default:c(()=>[b(m(t.Lang.id(115)),1)]),_:1},8,["size"])]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.supplier),1),l("td",null,[i(g,{modelValue:n.input.supplier,"onUpdate:modelValue":e[5]||(e[5]=f=>n.input.supplier=f),fill:"green"},{default:c(()=>[i(u,{label:"openai",size:"small"},{default:c(()=>[b("OpenAI")]),_:1}),i(u,{label:"azure",size:"small"},{default:c(()=>[b("Azure")]),_:1})]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.apiKey),1),l("td",ht,[i(p,{modelValue:n.input.api_key,"onUpdate:modelValue":e[6]||(e[6]=f=>n.input.api_key=f),placeholder:t.Lang.id(120)},null,8,["modelValue","placeholder"]),l("button",{class:"inside_btn",onClick:e[7]||(e[7]=(...f)=>s.onHelpApiKey&&s.onHelpApiKey(...f))},[i(w,{fill:"#000",style:{margin:"0px 4px"}})])])]),n.input.supplier=="azure"?(h(),v("tr",bt,[l("td",null,m(t.Lang.n.apiVer),1),l("td",null,[i(p,{modelValue:n.input.api_version,"onUpdate:modelValue":e[8]||(e[8]=f=>n.input.api_version=f),placeholder:t.Lang.id(120)},null,8,["modelValue","placeholder"])])])):D("",!0),n.input.supplier=="azure"?(h(),v("tr",yt,[l("td",null,m(t.Lang.n.endpoint),1),l("td",null,[i(p,{ref:"endpoint",modelValue:n.input.endpoint,"onUpdate:modelValue":e[9]||(e[9]=f=>n.input.endpoint=f),placeholder:t.Lang.id(130)},null,8,["modelValue","placeholder"])])])):D("",!0)]),l("div",vt,[l("div",null,[l("button",{class:"op_button",onClick:e[10]||(e[10]=f=>s.onClear()),disabled:r.isDisabledSubmit},m(t.Lang.n.clear),9,wt)]),l("div",null,[l("button",{class:"op_button op_button_hl2",onClick:e[11]||(e[11]=f=>s.onSubmit()),disabled:r.isDisabledSubmit},m(t.Lang.n.generate),9,St)])])])}const Vt=C(pt,[["render",Lt],["__scopeId","data-v-dd332897"]]),X={template:1,isExample:!1,model:y.MODELS[1],prompt:"",negativePrompt:"",version:1.6,param:{width:512,height:512,cfg_scale:7,clip_guidance_preset:"NONE",sampler:"default",samples:1,seed:0,steps:30,style_preset:"default"},supplier:"stability",api_key:""},It={name:"RPartSD",props:{isDisabledSubmit:Boolean},data(){return{clip_guidance_enmu:["FAST_BLUE","FAST_GREEN","NONE","SIMPLE","SLOW","SLOWER","SLOWEST"],sampler_enmu:["default","DDIM","DDPM","K_DPMPP_2M","K_DPMPP_2S_ANCESTRAL","K_DPM_2","K_DPM_2_ANCESTRAL","K_EULER","K_EULER_ANCESTRAL","K_HEUN","K_LMS"],style_enmu:["default","3d-model","analog-film","anime","cinematic","comic-book","digital-art","enhance","fantasy-art","isometric","line-art","low-poly","modeling-compound","neon-punk","origami","photographic","pixel-art","tile-texture"],input:JSON.parse(JSON.stringify(X))}},mounted(){},methods:{onHelpApiKey(){k.alert(d.id(159),null)},onClear(){this.input=JSON.parse(JSON.stringify(X))},onSubmit(){this.submit()},submit(){if(!this.input.prompt){L.warning(d.id(121));return}this.$parent.submitRequest(this.input)&&(this.input.prompt="",this.input.negativePrompt="")}}};const re=t=>(R("data-v-5225cccc"),t=t(),J(),t),Et={id:"R-SD"},Ot={class:"tab"},Pt={class:"td2"},kt={class:"td2"},Dt=re(()=>l("td",null,"CFG Scale",-1)),Ct={class:"td2"},$t=["title"],zt={class:"td2"},Tt=re(()=>l("td",null,"CLIP Guidance",-1)),At={style:{display:"flex"}},xt={class:"op_buttons"},Rt=["disabled"],Jt=["disabled"];function Mt(t,e,r,o,n,s){const p=le,u=K,g=H,w=fe,f=_e,V=be,O=he,T=I("icon-help");return h(),v("div",Et,[i(p,{modelValue:n.input.prompt,"onUpdate:modelValue":e[0]||(e[0]=a=>n.input.prompt=a),rows:3,type:"textarea",maxlength:2e3,"show-word-limit":"",placeholder:t.Lang.id(121)},null,8,["modelValue","placeholder"]),i(p,{modelValue:n.input.negativePrompt,"onUpdate:modelValue":e[1]||(e[1]=a=>n.input.negativePrompt=a),style:{"margin-top":"4px"},rows:3,type:"textarea",maxlength:2e3,"show-word-limit":"",placeholder:t.Lang.id(147)},null,8,["modelValue","placeholder"]),l("table",Ot,[l("tr",null,[l("td",null,m(t.Lang.n.model),1),l("td",null,m(t.G.MODELS[1])+" "+m(n.input.version),1)]),l("tr",null,[l("td",null,m(t.Lang.n.version),1),l("td",null,[i(g,{modelValue:n.input.version,"onUpdate:modelValue":e[2]||(e[2]=a=>n.input.version=a),fill:"green"},{default:c(()=>[i(u,{size:"small",label:1.6},{default:c(()=>[b("1.6")]),_:1})]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.width),1),l("td",Pt,[i(w,{modelValue:n.input.param.width,"onUpdate:modelValue":e[3]||(e[3]=a=>n.input.param.width=a),min:320,max:1536,size:"small"},null,8,["modelValue"]),i(f,{modelValue:n.input.param.width,"onUpdate:modelValue":e[4]||(e[4]=a=>n.input.param.width=a),min:320,max:1536,size:"small",controls:!1},null,8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.height),1),l("td",kt,[i(w,{modelValue:n.input.param.height,"onUpdate:modelValue":e[5]||(e[5]=a=>n.input.param.height=a),min:320,max:1536,size:"small"},null,8,["modelValue"]),i(f,{modelValue:n.input.param.height,"onUpdate:modelValue":e[6]||(e[6]=a=>n.input.param.height=a),min:320,max:1536,size:"small",controls:!1},null,8,["modelValue"])])]),l("tr",null,[Dt,l("td",Ct,[i(w,{modelValue:n.input.param.cfg_scale,"onUpdate:modelValue":e[7]||(e[7]=a=>n.input.param.cfg_scale=a),min:0,max:35,size:"small"},null,8,["modelValue"]),i(f,{modelValue:n.input.param.cfg_scale,"onUpdate:modelValue":e[8]||(e[8]=a=>n.input.param.cfg_scale=a),min:0,max:35,size:"small",controls:!1},null,8,["modelValue"])])]),l("tr",{title:t.Lang.n.steps2},[l("td",null,m(t.Lang.n.steps),1),l("td",zt,[i(w,{modelValue:n.input.param.steps,"onUpdate:modelValue":e[9]||(e[9]=a=>n.input.param.steps=a),min:10,max:50,size:"small"},null,8,["modelValue"]),i(f,{modelValue:n.input.param.steps,"onUpdate:modelValue":e[10]||(e[10]=a=>n.input.param.steps=a),min:10,max:50,size:"small",controls:!1},null,8,["modelValue"])])],8,$t),l("tr",null,[Tt,l("td",null,[i(O,{modelValue:n.input.param.clip_guidance_preset,"onUpdate:modelValue":e[11]||(e[11]=a=>n.input.param.clip_guidance_preset=a),size:"small"},{default:c(()=>[(h(!0),v(z,null,x(n.clip_guidance_enmu,a=>(h(),A(V,{key:a,value:a},null,8,["value"]))),128))]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.sampler),1),l("td",null,[i(O,{modelValue:n.input.param.sampler,"onUpdate:modelValue":e[12]||(e[12]=a=>n.input.param.sampler=a),size:"small"},{default:c(()=>[(h(!0),v(z,null,x(n.sampler_enmu,a=>(h(),A(V,{key:a,value:a},null,8,["value"]))),128))]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.style),1),l("td",null,[i(O,{modelValue:n.input.param.style_preset,"onUpdate:modelValue":e[13]||(e[13]=a=>n.input.param.style_preset=a),size:"small"},{default:c(()=>[(h(!0),v(z,null,x(n.style_enmu,a=>(h(),A(V,{key:a,value:a},null,8,["value"]))),128))]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.seed),1),l("td",null,[i(f,{modelValue:n.input.param.seed,"onUpdate:modelValue":e[14]||(e[14]=a=>n.input.param.seed=a),min:0,max:4294967295,size:"small",controls:!1},null,8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.supplier),1),l("td",null,[i(g,{modelValue:n.input.supplier,"onUpdate:modelValue":e[15]||(e[15]=a=>n.input.supplier=a),fill:"green"},{default:c(()=>[i(u,{label:"stability",size:"small"},{default:c(()=>[b("stability")]),_:1})]),_:1},8,["modelValue"])])]),l("tr",null,[l("td",null,m(t.Lang.n.apiKey),1),l("td",At,[i(p,{modelValue:n.input.api_key,"onUpdate:modelValue":e[16]||(e[16]=a=>n.input.api_key=a),placeholder:t.Lang.id(120)},null,8,["modelValue","placeholder"]),l("button",{class:"inside_btn",onClick:e[17]||(e[17]=(...a)=>s.onHelpApiKey&&s.onHelpApiKey(...a))},[i(T,{fill:"#000",style:{margin:"0px 4px"}})])])])]),l("div",xt,[l("div",null,[l("button",{class:"op_button",onClick:e[18]||(e[18]=a=>s.onClear()),disabled:r.isDisabledSubmit},m(t.Lang.n.clear),9,Rt)]),l("div",null,[l("button",{class:"op_button op_button_hl2",onClick:e[19]||(e[19]=a=>s.onSubmit()),disabled:r.isDisabledSubmit},m(t.Lang.n.generate),9,Jt)])])])}const jt=C(It,[["render",Mt],["__scopeId","data-v-5225cccc"]]),Y="---1@3$5^7*9)---",Nt={name:"Workspace",components:{LPart:dt,RPartDallE:Vt,RPartSD:jt},data(){return{model:y.MODELS[0],isDisabledSubmit:!1,isAdvanceView:!1}},mounted(){var t=E.getStateItems(_.jobs,1),e=t.length;e&&this.$refs.lp.setCurJob(t[e-1]);var r=E.getStateItems(_.jobs,0,-1,"uuid");r.length>0&&this.refreshJobs(r);var o=y.url.searchParams.get("model")||null,n=y.url.searchParams.get("p")||null,s=y.url.searchParams.get("np")||null,p=y.url.searchParams.get("do")||null;o&&y.MODELS.indexOf(o)!=-1&&(this.model=o,this.$refs[o].input.prompt=n,s&&this.$refs[o].input.negativePrompt!==void 0&&(this.$refs[o].input.negativePrompt=s)),p=="submit"&&this.$refs[this.model].submit()},computed:{hasWorking(){return E.getStateItems(_.jobs,0,1).length}},methods:{fillInputBy(t){var e=this.$refs[t.model];e.input.template==t.template?(e.input=JSON.parse(JSON.stringify(t)),this.model=t.model,L.success(d.id(125))):L.error(d.id(154))},onRefreshJob(t){L.info(d.id(152)),this.refreshJobs([t.uuid],()=>L.success(d.id(125)))},refreshJobs(t,e=null){var r=`${y.API_HOST}${B.api.retrieve}?uid=${y.uid}`;fetch(r,{method:"POST",body:JSON.stringify(t)}).then(o=>o.json()).then(o=>{if(o.err){console.log(o),L.error("【"+o.err.name+"】"+o.err.desc);return}o.items.forEach(n=>{for(let s=0,p=_.jobs.length;s<p;s++)if(_.jobs[s].uuid==n.uuid){n.state==-1||n.state==404?_.jobs.splice(s,1):_.jobs.splice(s,1,n);break}}),N(),e&&e()}).catch(o=>{console.log(o),L.error(o.toString())})},onDelJob(t,e){k.confirm(d.id(151),null).then(()=>{if(t.state==e){L.success(d.id(125));let r=_.jobs.indexOf(t);_.jobs.splice(r,1),N()}}).catch(()=>{})},submitRequest(t){if(this.isDisabledSubmit)return L.warning(d.id(104)),!1;if(E.getStateItems(_.jobs,0).length>=B.concurrentRequests)return k.alert(d.id(148).replace(`
`,"<br/>"),null,{type:"warning",showClose:!1,dangerouslyUseHTMLString:!0}),!1;var e=t.prompt;this.isDisabledSubmit=!0;var r=0,o=`${y.API_HOST}${B.api.create}?uid=${y.uid}`,n=new XMLHttpRequest;return n.open("POST",o),n.send(JSON.stringify(t)),n.onreadystatechange=()=>{n.readyState===XMLHttpRequest.DONE&&n.status},n.onprogress=()=>{for(;;){var s=n.responseText.indexOf(Y,r);if(s==-1)return;this.isDisabledSubmit=!1;let u=JSON.parse(n.responseText.substring(r,s));r=s+Y.length;var p=!1;for(let g=0,w=_.jobs.length;g<w;g++)if(p=_.jobs[g].uuid==u.uuid,p){_.jobs.splice(g,1,u);break}if(p||_.jobs.push(u),u.err){let g=u.err.desc;g.indexOf("content_policy_violation")!=-1?k.alert(`${d.n.job}：${u.uuid}<br />${d.id(153)}`,null,{type:"error",showClose:!1,dangerouslyUseHTMLString:!0}):g.indexOf("empty_content")!=-1?k.alert(`${d.n.job}：${u.uuid}<br />${d.id(155)}`,null,{type:"error",showClose:!1,dangerouslyUseHTMLString:!0}):g.indexOf("exceed_max_concurrencies")!=-1?k.confirm(`${d.id(158)}`,null,{type:"info",cancelButtonText:d.id(160),confirmButtonText:d.id(161),showClose:!1,dangerouslyUseHTMLString:!0}).then(()=>{W(!0);const w={lang:d.customValue,prompt:e,format:"",offset:0,limit:100};fetch("https://www.ai-img-gen.com/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(f=>f.text()).then(f=>{W(!1);let V=E.checkP3(200,f);if(V instanceof Error){alert(V.toString());return}if(V.part1<0){alert(V.part1+`
`+V.part3);return}const O=`https://www.ai-img-gen.com/lang/${d.customValue}/prompt/${encodeURIComponent(e)}/result/${V.part3.data}`;window.open(O)}).catch(f=>{alert("HTTP CODE: "+f)})}).catch(()=>{}):L.error("【"+u.err.name+"】"+g)}if(u.state==0)_.settings.runTimes>3?L.success({message:`${d.id(157)}<br />${d.n.job}：${u.uuid}`.replace(`
`,"<br />"),dangerouslyUseHTMLString:!0}):k.alert(`${d.id(157)}<br />${d.n.job}：${u.uuid}`.replace(`
`,"<br />"),null,{type:"success",showClose:!1,dangerouslyUseHTMLString:!0}),setTimeout(()=>{let g=this.$refs.R,w=g.scrollTop,f=g.scrollHeight;f&&w!=f&&(g.scrollTop=f)},1);else if(u.state==1)this.$refs.lp.setCurJob(u,!0),this.isAdvanceView=!1;else if(u.state==-1){for(let g=0,w=_.jobs.length;g<w;g++)if(_.jobs[g].uuid==u.uuid){_.jobs.splice(g,1);break}}N()}},!0}}},Ut=""+new URL("../loading.svg",import.meta.url).href;const ae=t=>(R("data-v-382fb8da"),t=t(),J(),t),Bt={id:"my-workspace"},Gt={class:"L"},Ft=ae(()=>l("div",{class:"L-head"},null,-1)),Ht={class:"L-body"},Kt={class:"R",ref:"R"},qt={class:"R-head"},Wt={class:"R-first-line"},Qt={class:"R-body"},Xt={class:"R-foot"},Yt={key:0,class:"fieldset"},Zt={class:"legend"},en=ae(()=>l("img",{src:Ut},null,-1)),tn={style:{"overflow-x":"hidden"}},nn={style:{margin:"0px 0px 8px 0px"}};function ln(t,e,r,o,n,s){const p=I("LPart"),u=te,g=K,w=H,f=I("RPartDallE"),V=I("RPartSD"),O=I("icon-delete"),T=I("icon-refresh"),a=ne;return h(),v("div",Bt,[l("div",Gt,[Ft,l("div",Ht,[i(p,{ref:"lp"},null,512)])]),M(l("div",Kt,[l("div",qt,[l("div",Wt,[t.GB.isPhoneView?M((h(),A(u,{key:0,type:"danger",plain:"",onClick:e[0]||(e[0]=P=>n.isAdvanceView=!1)},{default:c(()=>[b(m(t.Lang.n.home),1)]),_:1},512)),[[j,t.GB.isPhoneView]]):D("",!0),i(w,{modelValue:n.model,"onUpdate:modelValue":e[1]||(e[1]=P=>n.model=P)},{default:c(()=>[i(g,{label:t.G.MODELS[0]},{default:c(()=>[b("DALL·E")]),_:1},8,["label"]),i(g,{label:t.G.MODELS[1]},{default:c(()=>[b("SD")]),_:1},8,["label"])]),_:1},8,["modelValue"])])]),l("div",Qt,[M(i(f,{ref:t.G.MODELS[0],isDisabledSubmit:n.isDisabledSubmit},null,8,["isDisabledSubmit"]),[[j,n.model==t.G.MODELS[0]]]),M(i(V,{ref:t.G.MODELS[1],isDisabledSubmit:n.isDisabledSubmit},null,8,["isDisabledSubmit"]),[[j,n.model==t.G.MODELS[1]]])]),l("div",Xt,[s.hasWorking?(h(),v("div",Yt,[l("div",Zt,m(t.Lang.id(103)),1),(h(!0),v(z,null,x(t.Kit.getStateItems(t.GB.jobs,0),P=>(h(),v("div",{class:"working-item",key:P.uuid},[en,i(a,{placement:t.GB.isPhoneView?"top-start":"right-start",title:t.Lang.n.inputInfo,width:348,"popper-class":"gallery-info-popover",trigger:"click"},{reference:c(()=>[l("span",null,m(t.Lang.n.job)+"："+m(P.uuid),1)]),default:c(()=>[l("div",tn,[l("pre",nn,m(t.Kit.formatInputInfo(P.I)),1),i(u,{type:"primary",plain:"",onClick:ue=>s.onDelJob(P,0),title:t.Lang.id(149)},{default:c(()=>[i(O,{size:"16"})]),_:2},1032,["onClick","title"]),i(u,{type:"primary",plain:"",onClick:ue=>s.onRefreshJob(P),title:t.Lang.id(150)},{default:c(()=>[i(T,{size:"16"})]),_:2},1032,["onClick","title"])])]),_:2},1032,["placement","title"])]))),128))])):D("",!0)])],512),[[j,!t.GB.isPhoneView||n.isAdvanceView]])])}const sn=C(Nt,[["render",ln],["__scopeId","data-v-382fb8da"]]),on={name:"AppRoot",components:{FrameHead:xe,FrameBody:je,Workspace:sn},mounted(){window.dispatchEvent(new CustomEvent("VueMounted"))}};const rn=t=>(R("data-v-041fc681"),t=t(),J(),t),an={id:"my-body"},un=rn(()=>l("div",{id:"my-model-dialog"},null,-1));function dn(t,e,r,o,n,s){const p=I("FrameHead"),u=I("Workspace"),g=I("FrameBody");return h(),v("div",an,[i(p),i(g,null,{default:c(()=>[i(u)]),_:1}),un])}const pn=C(on,[["render",dn],["__scopeId","data-v-041fc681"]]);var Z=null;function mn(t){return Z=ye(t),Z}function cn(t,e){t.component("icon-info",ve),t.component("icon-close-one",we),t.component("icon-help",Se),t.component("icon-delete",Le),t.component("icon-copy",Ve),t.component("icon-refresh",Ie),t.component("icon-fill",Ee),t.mount(e)}const gn=`name:string,iso_639_3166:strings,langField:string\r
english,en,en\r
español,es,es\r
portugués,pt,pt\r
français,fr,fr\r
Türkçe,tr,tr\r
русский,ru,ru\r
Indonesia,id,ind\r
简体中文,zh,zh\r
繁體中文,"zh-Hant,zh-TW,zh-HK,zh-MO",zh-Hant\r
日本語,ja,ja\r
`,fn=`\uFEFFid:int,name:string,en:string,zh:string,zh-Hant:string,es:string,pt:string,fr:string,tr:string,ru:string,ind:string,ja:string\r
101,logo,AI Image Generator,AI图片生成,AI繪圖生成,Generador de Imágenes de IA,Gerador de Imagem de IA,Générateur d'Images IA,Yapay Zeka Görüntü Oluşturucusu,ИИ-генератор изображений,Generator Gambar AI,AI画像生成\r
102,prompt,prompt,提示词,提示詞,,,,,,,\r
103,,Drawing..,绘图中..,繪圖中..,,,,,,,\r
104,,Please wait for current request to complete,请等待当前请求完成,請等待目前請求完成,,,,,,,\r
105,version,version,版本,版本,,,,,,,\r
106,size,size,尺寸,尺寸,,,,,,,\r
107,,square,方块,方塊,,,,,,,\r
108,,banner,横幅,橫幅,,,,,,,\r
109,,poster,海报,海報,,,,,,,\r
110,quality,quality,画质,畫質,,,,,,,\r
111,,standard ,标准,標準,,,,,,,\r
112,,HD,高清,高清,,,,,,,\r
113,style,style,风格,風格,,,,,,,\r
114,,vivid,生动,生動,,,,,,,\r
115,,natural,真实,真實,,,,,,,\r
116,supplier,supplier,供应商,供應商,,,,,,,\r
117,apiKey,API Key,API密钥,API金鑰,,,,,,,\r
118,clear,Clear,清空,清空,,,,,,,\r
119,generate,Generate,生成,生成,,,,,,,\r
120,,optional,可选,可選,,,,,,,\r
121,,Please input your prompt,请输入您的提示词,請輸入您的提示詞,,,,,,,\r
122,home,Home,主页,主页,,,,,,,\r
123,delete,Delete,删除,刪除,,,,,,,\r
124,,Are you sure you want to delete this image?,您确定要删除该图片吗？,您確定要刪除該圖片嗎？,,,,,,,\r
125,,Operation successful,操作成功,操作成功,,,,,,,\r
126,date,Date,日期,日期,,,,,,,\r
127,apiVer,API Ver,API版本,API版本,,,,,,,\r
128,endpoint,endpoint,,,,,,,,,\r
129,,Please fill in required fields,请填写必填字段,請填寫必填字段,,,,,,,\r
130,,required,必填,必填,,,,,,,\r
131,imgInfo,Image info,图片信息,圖片訊息,,,,,,,\r
132,inputInfo,Generated info,生成信息,生成訊息,,,,,,,\r
133,outputInfo,Raw response,原始响应,原始回應,,,,,,,\r
134,imgInfo1,Image,图片,圖片,,,,,,,\r
135,inputInfo1,Gen,生成,生成,,,,,,,\r
136,outputInfo1,Raw,原始,原始,,,,,,,\r
137,model,model,模型,模型,,,,,,,\r
138,elapsed,Elapsed,耗时,耗時,,,,,,,\r
139,width,width,宽度,寬度,,,,,,,\r
140,height,height,高度,高度,,,,,,,\r
141,sampler,sampler,采样器,採樣器,,,,,,,\r
143,seed,seed,种子,種子,,,,,,,\r
144,steps,steps,步数,步數,,,,,,,\r
145,steps2,Number of diffusion steps to run,要运行的扩散步数,要運行的擴散步數,,,,,,,\r
146,negativePrompt,negative prompt,否定提示词,否定提示詞,,,,,,,\r
147,,(optional) negative prompt,(可选) 否定提示词,(可選) 否定提示詞,,,,,,,\r
148,,"Exceeded max number of tasks,\r
Please try again later.","超过最大任务数，\r
请稍后再试。","超過最大任務數，\r
請稍後再試。",,,,,,,\r
149,,Delete this task,删除此任务,刪除此任務,,,,,,,\r
150,,Refresh this task status,刷新此任务状态,重新整理此任務狀態,,,,,,,\r
151,,Are you sure you want to delete this task?,您确定要删除此任务吗？,您確定要刪除此任務嗎？,,,,,,,\r
152,,Refreshing..,刷新中..,刷新中..,,,,,,,\r
153,,This content violates the usage policy,该内容违反了使用政策,該內容違反了使用政策,,,,,,,\r
154,,The current version does not support this generated information,当前版本不支持该生成信息,目前版本不支援該生成訊息,,,,,,,\r
155,,Unable to generate content,无法生成内容,無法生成內容,,,,,,,\r
156,job,Task,任务,任務,,,,,,,\r
157,,"Your request has been added to the task,\r
Please wait for the drawing to be completed.",您的请求已添加到任务中，请等待绘图完成。,您的請求已添加到任務中，請等待繪圖完成。,,,,,,,\r
158,,"Free drawing tasks are full, please try again later.",免费的绘图任务已满，请稍后再试。,免費的繪圖任務已滿，請稍後再試。,"Las tareas de dibujo gratuitas están completas, inténtalo de nuevo más tarde.",As tarefas de desenho gratuitas estão completas. Tente novamente mais tarde.,"Les tâches de dessin gratuites sont terminées, veuillez réessayer plus tard.","Ücretsiz çizim görevleri doldu, lütfen daha sonra tekrar deneyin.","Бесплатные задания по рисованию заполнены, повторите попытку позже.","Tugas menggambar gratis sudah penuh, silakan coba lagi nanti.",無料の描画タスクは満員です、後で再度お試しください。\r
159,,"When it is empty, the submission is a free drawing task.",当它为空时，提交的是免费的绘图任务,當它為空時，提交的是免費的繪圖任務,"Cuando está vacío, el envío es una tarea de dibujo gratuita.","Quando estiver vazio, o envio é uma tarefa de desenho livre.","Lorsqu'il est vide, la soumission est une tâche de dessin gratuite.","Boş olduğunda, gönderim ücretsiz bir çizim görevidir.","Если он пуст, это означает, что отправка представляет собой бесплатное задание по рисованию.","Jika kosong, penyerahannya adalah tugas menggambar gratis.",空の場合、提出は無料の描画タスクです。\r
160,,Cancel,取消,取消,,,,,,,\r
161,,Find it,搜索它,搜索它,Encuéntralo,Encontre,Trouve le,Bul onu,Найди это,Temukan,それを見つける\r
`;function _n(){d.Init(acsv.Table.Parse(gn),acsv.Table.Parse(fn)),d.customValue=d.getLangFieldBy(navigator.language),hn(),ee();var t=mn(pn);t.config.globalProperties.G=y,t.config.globalProperties.GB=_,t.config.globalProperties.Kit=E,t.config.globalProperties.Lang=d,cn(t,"#my-app"),window.onbeforeunload=e=>ke(),window.addEventListener("resize",ee),document.addEventListener("gesturestart",e=>e.preventDefault()),document.oncontextmenu=e=>{e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target.className.indexOf("el-popper")!=-1||e.target.className.indexOf("el-image")!=-1||e.preventDefault()}}function hn(){y.url=new URL(window.location.href),y.uid=localStorage.getItem("uid")||E.genUID(),E.fillInto(De(),_.settings,!0),_.settings.runTimes++,_.jobs=Ce(),localStorage.setItem("uid",y.uid)}function ee(){var t=0,e=5;window.matchMedia("(min-width: 576px)").matches&&(t=1),window.matchMedia("(min-width: 768px)").matches&&(t=2),window.matchMedia("(min-width: 992px)").matches&&(t=3),window.matchMedia("(min-width: 1200px)").matches&&(t=4),window.matchMedia("(max-width: 1199.98px)").matches&&(e=4),window.matchMedia("(max-width: 991.98px)").matches&&(e=3),window.matchMedia("(max-width: 767.98px)").matches&&(e=2),window.matchMedia("(max-width: 575.98px)").matches&&(e=1),_.isTabletView=t<3,_.isPhoneView=e<2,_.isTouchDevice=navigator.maxTouchPoints>0}_n();
